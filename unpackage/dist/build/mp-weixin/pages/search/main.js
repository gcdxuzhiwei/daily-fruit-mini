(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/main"],{"2eb9":function(t,n,e){"use strict";var o=e("3f50"),r=e.n(o);r.a},"32bf":function(t,n,e){"use strict";e.r(n);var o=e("3f33"),r=e("7e38");for(var i in r)"default"!==i&&function(t){e.d(n,t,(function(){return r[t]}))}(i);e("2eb9");var a,c=e("f0c5"),s=Object(c["a"])(r["default"],o["b"],o["c"],!1,null,"371bfa1c",null,!1,o["a"],a);n["default"]=s.exports},"3f33":function(t,n,e){"use strict";var o;e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return o}));var r=function(){var t=this,n=t.$createElement,e=(t._self._c,t.goodsList.length>0&&t.shouldShow?t.__map(t.goodsList,(function(n,e){var o=t.__get_orig(n),r=t.__map(n.rule,(function(n,e){var o=t.__get_orig(n),r=t.priceFix(n[1],1),i=t.priceFix(n[1],2);return{$orig:o,m0:r,m1:i}}));return{$orig:o,l0:r}})):null);t.$mp.data=Object.assign({},{$root:{l1:e}})},i=[]},"3f50":function(t,n,e){},"6fb5":function(t,n,e){"use strict";(function(t,e){function o(t){return c(t)||a(t)||i(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"===typeof t)return s(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,n):void 0}}function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c(t){if(Array.isArray(t))return s(t)}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u={data:function(){return{input:"",history:[],hotSearch:[],goodsList:[],keyWord:[],shouldShow:!1,showSearch:!1,flag:!0}},watch:{input:function(n,e){var o=this;this.goodsList=[],this.shouldShow=!1,""==n&&(this.showSearch=!1,this.keyWord=[]),""!==n&&this.flag&&(this.showSearch=!0,this.flag=!1,t.callFunction({name:"search",data:{type:"searchKeyWorld",keyWord:n}}).then((function(t){o.flag=!0,o.keyWord=t.result})))}},mounted:function(){var n=this;e.getStorageSync("searchHistory")&&(this.history=e.getStorageSync("searchHistory")),t.callFunction({name:"search",data:{type:"hotSearch"}}).then((function(t){n.hotSearch=t.result.data}))},methods:{goSearch:function(){var n=this;this.input&&(e.showLoading({title:"搜索中"}),this.history=o(new Set([this.input].concat(this.history))),e.setStorageSync("searchHistory",this.history),t.callFunction({name:"search",data:{type:"search",keyWord:this.input}}).then((function(t){n.shouldShow=!0,n.showSearch=!1,n.goodsList=t.result,e.hideLoading()})))},deleteHistory:function(){this.history=[],e.removeStorageSync("searchHistory")},clickSearch:function(t){this.input=t,this.goSearch()},guanbiInput:function(){this.input="",this.goodsList=[],this.shouldShow=!1},fastSearch:function(t){this.input=t,this.goSearch()},goDetail:function(t,n){e.navigateTo({url:"../goodsDetail/main?goodCode=".concat(t.goodsCode,"&rule=").concat(n[0])})},priceFix:function(t,n){t=t.toFixed(2)+"";var e=t.split(".");return 1==n?e[0]:2==n?e[1]:void 0}}};n.default=u}).call(this,e("a9ff")["default"],e("543d")["default"])},"76a2":function(t,n,e){"use strict";(function(t){e("2662");o(e("66fd"));var n=o(e("32bf"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"7e38":function(t,n,e){"use strict";e.r(n);var o=e("6fb5"),r=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n["default"]=r.a}},[["76a2","common/runtime","common/vendor"]]]);